---
layout: default
title: Usage
description: JavaScript library documentations page. How to use the library
keywords: mp3, id3, audio, tag, edit, write, documentations, docs, usage
stylesheets:
  - /assets/css/prismjs/prism.css
scripts:
  - /assets/js/prismjs/prism.js
---
<main class="main row no-gutters mx-5">
  {% include docs_aside.html active='usage' %}

  <div class="col offset-12 offset-md-4">
    <h4 class="display-4">Usage</h4>
    <p class="lead">Simple usage of the library</p>

    <h5>Browser</h5>
    <pre class="mb-4">
      <code class="language-javascript">
        const inputFile = document.getElementById('input-file')
        inputFile.onchange = function () {
          const reader = new FileReader()
          reader.onload = function () {
            const buffer = this.result
            const mp3tag = new MP3Tag(buffer)
            mp3tag.read()

            if (mp3tag.errorCode > -1) throw new Error(mp3tag.error)

            console.log(mp3tag.tags)
            mp3tag.tags.TIT2 = 'NEW TITLE'
            mp3tag.tags.TPE1 = 'NEW ARTIST'
            mp3tag.save({ strict: true })

            if (mp3tag.errorCode > -1) throw new Error(mp3tag.error)
            mp3tag.read()
          }

          if (this.files.length > 0) {
            reader.readAsArrayBuffer(this.files[0])
          }
        }
      </code>
    </pre>

    <h5>Node.js</h5>
    <pre>
      <code class="language-javascript">
        const MP3Tag = require('mp3tag.js')
        const fs = require('fs')

        const buffer = fs.readFileSync('/path/to/mp3')
        const mp3tag = new MP3Tag(buffer)
        mp3tag.read()

        if (mp3tag.errorCode > -1) throw new Error(mp3tag.error)

        console.log(mp3tag.tags)
        mp3tag.tags.TIT2 = 'NEW TITLE'
        mp3tag.tags.TPE1 = 'NEW ARTIST'
        mp3tag.save({ strict: true })

        if (mp3tag.errorCode > -1) throw new Error(mp3tag.error)
        mp3tag.read()
      </code>
    </pre>
  </div>
</main>
